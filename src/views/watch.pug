extends base.pug

block content 
    div#videoContainer
        video(src="/"+video.fileUrl,width="1000",height="500",data-id=video._id)
        div#videoControls
            button#play
                i.fas.fa-play
            button#mute
                i.fas.fa-volume-up
            input(type="range",min="0",max="1",step="0.1",value="0.5")#volume
            div
                span#currentTime 00:00
                span /
                span#totalTime 00:00
            div
                input(type="range",min="0",step="1",value="0")#timeline
            div
                button#fullScreen 
                    i.fas.fa-expand
    //- div
    //-     p=video.description
    //-     small Uploaded by
    //-         a(href=`/users/${video.owner._id}`) #{video.owner.name}
    //- if String(video.owner._id) === String(loggedInUser._id)
    //-     a(href=`${video.id}/edit`) Edit Video &rarr;
    //-     br
    //-     a(href=`${video.id}/delete`) Delete Video &rarr;
    //- hr
    //- if loggedIn
    //-     div.video__add-comments 
    //-         form.video__comment-form#commentForm
    //-             textarea(cols="30",rows="10",placeholder="댓글 추가...")
    //-             button 댓글
    div.video__comments
        ul 
            each comment in video.comments.reverse() 
                li(data-id=comment._id)
                    div.comment-box 
                        div.commet-profile
                            img(src=`${comment.owner.avatarUrl}`)
                        div.comment-wrapper
                            div.writer
                                span=`${comment.owner.name}`
                            div.content
                                span=`${comment.text}`
                    if String(comment.owner._id)===String(loggedInUser._id)
                        span.delBtn ❌
block scripts
    script(src="/assets/js/commentSection.js") 
    script(src="/assets/js/videoPlayer.js") 

